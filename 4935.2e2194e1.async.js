(self.webpackChunk_antv_s2_site=self.webpackChunk_antv_s2_site||[]).push([[4935],{24935:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return pe}});var n=r(62435),i=r(97857),o=r.n(i),a=r(5574),p=r.n(a),c=r(97183),u={relations:[{fromAttributeId:"dataSource",toAttributeId:"rows",action:"disable",value:"localImport",operator:"EQUAL"},{fromAttributeId:"dataSource",toAttributeId:"columns",action:"disable",value:"localImport",operator:"EQUAL"},{fromAttributeId:"dataSource",toAttributeId:"values",action:"disable",value:"localImport",operator:"EQUAL"},{fromAttributeId:"values",toAttributeId:"valueLocation",action:"disable",value:[],operator:"EMPTY"},{fromAttributeId:"sheetType",toAttributeId:"valueLocation",action:"disable",value:"table",operator:"EQUAL"},{fromAttributeId:"sheetType",toAttributeId:"hierarchyType",action:"disable",value:"table",operator:"EQUAL"},{fromAttributeId:"sheetType",toAttributeId:"frozenRowHeader",action:"disable",value:"table",operator:"EQUAL"},{fromAttributeId:"sheetType",toAttributeId:"rowSubTotals",action:"disable",value:"table",operator:"EQUAL"},{fromAttributeId:"sheetType",toAttributeId:"rowGrandTotals",action:"disable",value:"table",operator:"EQUAL"},{fromAttributeId:"sheetType",toAttributeId:"columnSubTotals",action:"disable",value:"table",operator:"EQUAL"},{fromAttributeId:"sheetType",toAttributeId:"columnGrandTotals",action:"disable",value:"table",operator:"EQUAL"},{fromAttributeId:"widthChange",toAttributeId:"adaptive",action:"disable",value:"compact",operator:"EQUAL"},{fromAttributeId:"widthChange",toAttributeId:"sheetWidth",action:"disable",value:"compact",operator:"EQUAL"},{fromAttributeId:"adaptive",toAttributeId:"sheetWidth",action:"disable",value:!0,operator:"EQUAL"},{fromAttributeId:"adaptive",toAttributeId:"sheetHeight",action:"disable",value:!0,operator:"EQUAL"}],config:{type:"tab",children:[{type:"tab-pane",displayName:"数据",children:[{type:"radio",displayName:"数据源",attributeId:"dataSource",defaultValue:"exampleData",options:[{label:"样例数据",value:"exampleData"},{label:"本地导入",value:"localImport"}]},{type:"select",displayName:"行头",attributeId:"rows",placeholder:"请选择行头数据",options:[{label:"省份",value:"province"},{label:"城市",value:"city"}]},{type:"select",displayName:"列头",attributeId:"columns",placeholder:"请选择列头数据",options:[{label:"类别",value:"type"},{label:"子类别",value:"sub_type"}]},{type:"select",displayName:"数值",attributeId:"values",placeholder:"请选择数值数据",options:[{label:"数量",value:"number"},{label:"价格",value:"price"}]},{type:"radio",displayName:"数值置于",attributeId:"valueLocation",defaultValue:"row",options:[{label:"行头",value:"row"},{label:"列头",value:"column"}]},{type:"radio",displayName:"视图",attributeId:"sheetType",defaultValue:"pivot",options:[{label:"透视",value:"pivot"},{label:"明细",value:"table"}]}]},{type:"tab-pane",displayName:"样式",children:[{type:"collapse",children:[{type:"collapse-panel",displayName:"主题风格",children:[{type:"radio",displayName:"类型",attributeId:"hierarchyType",defaultValue:"grid",options:[{label:"平铺",value:"grid"},{label:"树状",value:"tree"}]},{type:"radio",displayName:"主题",attributeId:"theme",defaultValue:"default",options:[{label:"默认",value:"default"},{label:"简约灰",value:"gray"},{label:"多彩蓝",value:"colorful"}]},{type:"color-picker",displayName:"主题色",attributeId:"themeColor",defaultColor:"#E0E9FD"}]},{type:"collapse-panel",displayName:"显示模式",children:[{type:"radio",displayName:"宽度调整",attributeId:"widthChange",defaultValue:"colAdaptive",options:[{label:"列等宽",value:"colAdaptive"},{label:"列紧凑",value:"compact"}]},{type:"input-number",displayName:"表格宽度",attributeId:"sheetWidth",defaultValue:600,step:1,min:0},{type:"input-number",displayName:"表格高度",attributeId:"sheetHeight",defaultValue:480,step:1,min:0},{type:"switcher",displayName:"冻结行头",attributeId:"frozenRowHeader",defaultChecked:!0},{type:"switcher",displayName:"宽高自适应",attributeId:"adaptive",defaultChecked:!0}]},{type:"collapse-panel",displayName:"行序号和分页",children:[{type:"switcher",displayName:"显示行序号",attributeId:"showSeriesNumber"},{type:"switcher",displayName:"显示分页",attributeId:"showPagination"}]},{type:"collapse-panel",displayName:"行小计/总计",children:[{type:"switcher",displayName:"行小计",attributeId:"rowSubTotals"},{type:"switcher",displayName:"行总计",attributeId:"rowGrandTotals"}]},{type:"collapse-panel",displayName:"列小计/总计",children:[{type:"switcher",displayName:"列小计",attributeId:"columnSubTotals"},{type:"switcher",displayName:"列总计",attributeId:"columnGrandTotals"}]}]}]}]}},l=r(12444),s=r.n(l),d=r(72004),y=r.n(d),b=r(25098),v=r.n(b),f=r(31996),m=r.n(f),h=r(26037),g=r.n(h),_=r(9783),x=r.n(_),w=r(96486),C=r(37516),I=r(86074),A=function(e){m()(r,e);var t=g()(r);function r(){var e;s()(this,r);for(var i=arguments.length,a=new Array(i),p=0;p<i;p++)a[p]=arguments[p];return e=t.call.apply(t,[this].concat(a)),x()(v()(e),"renderTabPane",(function(t){return(0,w.map)(t,(function(t,r){var i=t.displayName,a=t.children;return(0,I.jsx)(C.Z.TabPane,{tab:i,children:(0,w.map)(a,(function(t,r){return(0,n.createElement)($,o()(o()({},e.props),{},{key:"".concat(t.displayName,"-").concat(r),config:t}))}))},"".concat(i,"-").concat(r))}))})),e}return y()(r,[{key:"render",value:function(){var e=this.props.config;return(0,I.jsx)(C.Z,{className:"flex-tabs",children:this.renderTabPane(e.children)})}}]),r}(n.PureComponent),j=function(e){m()(r,e);var t=g()(r);function r(){return s()(this,r),t.apply(this,arguments)}return y()(r,[{key:"render",value:function(){return this.props.children}}]),r}(n.PureComponent),T=r(54907),S=function(e){m()(r,e);var t=g()(r);function r(){var e;s()(this,r);for(var i=arguments.length,a=new Array(i),p=0;p<i;p++)a[p]=arguments[p];return e=t.call.apply(t,[this].concat(a)),x()(v()(e),"renderPanel",(function(t){return(0,w.map)(t,(function(t,r){var i=t.displayName,a=t.children;return(0,I.jsx)(T.Z.Panel,{header:i,children:(0,w.map)(a,(function(t,r){return(0,n.createElement)($,o()(o()({},e.props),{},{key:"".concat(t.displayName,"-").concat(r),config:t}))}))},"".concat(i,"-").concat(r))}))})),e}return y()(r,[{key:"render",value:function(){var e=this.props.config;return(0,I.jsx)("div",{className:"playground-collapse",children:(0,I.jsx)(T.Z,{expandIconPosition:"right",bordered:!1,ghost:!0,children:this.renderPanel(e.children)})})}}]),r}(n.PureComponent),N=function(e){m()(r,e);var t=g()(r);function r(){return s()(this,r),t.apply(this,arguments)}return y()(r,[{key:"render",value:function(){return this.props.children}}]),r}(n.PureComponent),P=r(34041),E=function(e){m()(r,e);var t=g()(r);function r(){return s()(this,r),t.apply(this,arguments)}return y()(r,[{key:"render",value:function(){var e=this.props.config.displayName;return(0,I.jsxs)("div",{className:"attr-component",children:[e,this.renderContent()]})}}]),r}(n.PureComponent),k=P.Z.Option,D=function(e){m()(r,e);var t=g()(r);function r(){return s()(this,r),t.apply(this,arguments)}return y()(r,[{key:"renderContent",value:function(){var e=this.props,t=e.config,r=e.onChange,n=e.disable,i=t.attributeId,o=t.options,a=t.placeholder,p=(0,w.map)(o,(function(e){return e.value}));return(0,I.jsx)(P.Z,{mode:"multiple",className:"playground-select",placeholder:a,size:"small",allowClear:!0,showArrow:!0,defaultValue:p,disabled:n,onChange:function(e){r(x()({},i,e))},children:(0,w.map)(o,(function(e){return(0,I.jsx)(k,{value:e.value,children:e.label},e.value)}))})}}]),r}(E),O=r(55742),L=r(23680),U=r(12461),M=r(85402),R=r(56853),Z=L.Z.Dragger,V=function(e){m()(r,e);var t=g()(r);function r(){var e;s()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),x()(v()(e),"importData",void 0),x()(v()(e),"handleConfirm",(function(){var t=e.props.changeDataSource;e.importData?(t(e.importData,!1),U.ZP.success("本地数据导入成功！")):U.ZP.error("导入文件有误，请重新导入！")})),x()(v()(e),"handleCancel",(function(){(0,e.props.changeDataSource)(void 0,!1)})),x()(v()(e),"verifyImportData",(function(e){return!!(0,w.isObject)(e)&&((0,w.has)(e,"data")&&(0,w.has)(e,"fields"))})),x()(v()(e),"uploadConfig",(function(t){if(window.FileReader){var r=new FileReader;r.onload=function(){if(r.result)try{var t=JSON.parse(r.result);e.verifyImportData(t)?e.importData=t:U.ZP.error("导入数据格式有误，请重新导入！")}catch(t){e.importData=void 0,U.ZP.error("导入数据格式有误，请重新导入！")}},r.readAsText(t)}else U.ZP.error("您当前浏览器不支持 FileReader，建议使用谷歌浏览器！");return!1})),x()(v()(e),"onRemove",(function(t){e.importData=void 0})),e}return y()(r,[{key:"render",value:function(){var e=this.props.isModalOpen;return(0,I.jsxs)(M.Z,{open:e,title:"本地数据导入",onOk:this.handleConfirm,onCancel:this.handleCancel,children:[(0,I.jsx)("p",{children:"目前仅支持的文件格式为 JSON。"}),(0,I.jsxs)("p",{children:["JSON 数据必须包含原始数据"," ",(0,I.jsx)("a",{href:"https://s2.antv.antgroup.com/api/general/s2dataconfig#data",target:"_blank",rel:"noopener noreferrer",children:"data"}),"，维度指标"," ",(0,I.jsx)("a",{href:"https://s2.antv.antgroup.com/api/general/s2dataconfig#fields",target:"_blank",rel:"noopener noreferrer",children:"fields"}),"；可选参数有总计/小计数据"," ",(0,I.jsx)("a",{href:"https://s2.antv.antgroup.com/api/general/s2dataconfig#data",target:"_black",rel:"noopener noreferrer",children:"totalData"}),"、字段元数据"," ",(0,I.jsx)("a",{href:"https://s2.antv.antgroup.com/api/general/s2dataconfig#meta",target:"_black",rel:"noopener noreferrer",children:"meta"}),"、排序参数配置"," ",(0,I.jsx)("a",{href:"https://s2.antv.antgroup.com/api/general/s2dataconfig#sortparam",target:"_black",rel:"noopener noreferrer",children:"sortParams"}),"。参考数据格式见：",(0,I.jsx)("a",{href:"https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json",target:"_black",rel:"noopener noreferrer",children:"标准透视表数据"}),"。"]}),(0,I.jsxs)(Z,{accept:".json",maxCount:1,beforeUpload:this.uploadConfig,onRemove:this.onRemove,children:[(0,I.jsx)("p",{className:"ant-upload-drag-icon",children:(0,I.jsx)(R.Z,{})}),(0,I.jsx)("p",{children:"点击或将数据文件拖拽到这里导入。"})]})]})}}]),r}(n.PureComponent),Q=function(e){m()(r,e);var t=g()(r);function r(){var e;s()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),x()(v()(e),"state",{isModalOpen:!1}),x()(v()(e),"openDraggerUploadModal",(function(t){"localImport"===t&&e.setState({isModalOpen:!0})})),x()(v()(e),"changeDataSource",(function(t,r){(0,e.props.onChange)({importData:t}),e.setState({isModalOpen:r})})),e}return y()(r,[{key:"renderContent",value:function(){var e=this,t=this.props,r=t.config,n=t.onChange,i=t.disable,o=this.state.isModalOpen,a=r.attributeId,p=r.options,c=r.defaultValue;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(O.ZP.Group,{defaultValue:c,size:"small",disabled:i,onChange:function(t){n(x()({},a,t.target.value)),e.openDraggerUploadModal(t.target.value)},children:(0,w.map)(p,(function(e){return(0,I.jsx)(O.ZP.Button,{value:e.value,children:e.label},e.value)}))}),(0,I.jsx)(V,{isModalOpen:o,changeDataSource:this.changeDataSource})]})}}]),r}(E),G=r(94594),z=function(e){m()(r,e);var t=g()(r);function r(){return s()(this,r),t.apply(this,arguments)}return y()(r,[{key:"renderContent",value:function(){var e=this.props,t=e.config,r=e.onChange,n=e.disable,i=t.attributeId,o=t.defaultChecked;return(0,I.jsx)(G.Z,{size:"small",disabled:n,defaultChecked:o,onChange:function(e){return r(x()({},i,e))}})}}]),r}(E),H=r(76258),F=r(13013),W=function(e){m()(r,e);var t=g()(r);function r(){return s()(this,r),t.apply(this,arguments)}return y()(r,[{key:"renderContent",value:function(){var e,t=this.props,r=t.config,n=t.onChange,i=t.attributes,o=r.defaultColor,a=r.attributeId,p=(null==i||null===(e=i.themeColor)||void 0===e?void 0:e.hex)||o;return(0,I.jsx)(F.Z,{overlay:function(){return(0,I.jsx)(H.ChromePicker,{color:p,onChangeComplete:function(e){return n(x()({},a,e))}})},placement:"bottom",children:(0,I.jsx)("div",{style:{backgroundColor:p},className:"color-block"})})}}]),r}(E),J=r(77052),X=function(e){m()(r,e);var t=g()(r);function r(){return s()(this,r),t.apply(this,arguments)}return y()(r,[{key:"renderContent",value:function(){var e=this.props,t=e.config,r=e.onChange,n=e.disable,i=t.attributeId,o=t.defaultValue,a=t.step,p=t.min;return(0,I.jsx)("div",{children:(0,I.jsx)(J.Z,{disabled:n,defaultValue:o,step:a||1,onChange:function(e){return r(x()({},i,e))},size:"small",className:"input-number",min:p})})}}]),r}(E),B={Tab:A,TabPane:j,Collapse:S,CollapsePanel:N,Select:D,Radio:Q,Switcher:z,ColorPicker:W,InputNumber:X};var $=function(e){m()(r,e);var t=g()(r);function r(){var e;s()(this,r);for(var i=arguments.length,a=new Array(i),p=0;p<i;p++)a[p]=arguments[p];return e=t.call.apply(t,[this].concat(a)),x()(v()(e),"renderChildren",(function(t){return(0,w.map)(t,(function(t,i){return(0,n.createElement)(r,o()(o()({},e.props),{},{key:"".concat(t.displayName,"-").concat(i),config:t}))}))})),x()(v()(e),"getStatus",(function(e,t,r){var n=(0,w.filter)(t,(function(t){return t.toAttributeId===(null==e?void 0:e.attributeId)})),i=[];return(0,w.forEach)(n,(function(e){var t=e.fromAttributeId,n=e.value,o=e.operator,a=e.action,p=(0,w.get)(r,t);("EQUAL"===o&&p===n||"EMPTY"===o&&(0,w.isEmpty)(p))&&i.push(a)})),i})),e}return y()(r,[{key:"render",value:function(){var e,t,r=this.props,n=r.config,i=r.relations,a=r.attributes,p=this.getStatus(n,i,a),c=(0,w.includes)(p,"disable"),u=B[(e=n.type,t=(0,w.camelCase)(e),t?"".concat(t[0].toUpperCase()).concat(t.substring(1)):t)];return(0,I.jsx)(u,o()(o()({},this.props),{},{disable:c,children:this.renderChildren(n.children)}))}}]),r}(n.PureComponent),Y=function(e){var t=e.attributes,r=e.onConfigChange,i=(0,n.useMemo)((function(){return u}),[]);return(0,I.jsx)($,{attributes:t,config:i.config,relations:i.relations,onChange:function(e){r(e)}})},q=r(33128),K=r(14334),ee=(r(2477),JSON.parse('{"XU":{"rows":["province","city"],"columns":["type","sub_type"],"values":["number","price"],"valueInCols":true},"$y":[{"field":"number","name":"数量","description":"数量说明。。"},{"field":"price","name":"价格","description":"价格说明。。"},{"field":"province","name":"省份","description":"省份说明。。"},{"field":"city","name":"城市","description":"城市说明。。"},{"field":"type","name":"类别","description":"类别说明。。"},{"field":"sub_type","name":"子类别","description":"子类别说明。。"}],"aT":[{"number":7789,"price":300,"province":"浙江省","city":"杭州市","type":"家具","sub_type":"桌子"},{"number":2367,"price":270,"province":"浙江省","city":"绍兴市","type":"家具","sub_type":"桌子"},{"number":3877,"price":260,"province":"浙江省","city":"宁波市","type":"家具","sub_type":"桌子"},{"number":4342,"price":310,"province":"浙江省","city":"舟山市","type":"家具","sub_type":"桌子"},{"number":5343,"price":2100,"province":"浙江省","city":"杭州市","type":"家具","sub_type":"沙发"},{"number":632,"price":1950,"province":"浙江省","city":"绍兴市","type":"家具","sub_type":"沙发"},{"number":7234,"price":1800,"province":"浙江省","city":"宁波市","type":"家具","sub_type":"沙发"},{"number":834,"price":2000,"province":"浙江省","city":"舟山市","type":"家具","sub_type":"沙发"},{"number":945,"price":5,"province":"浙江省","city":"杭州市","type":"办公用品","sub_type":"笔"},{"number":1304,"price":6,"province":"浙江省","city":"绍兴市","type":"办公用品","sub_type":"笔"},{"number":1145,"price":7,"province":"浙江省","city":"宁波市","type":"办公用品","sub_type":"笔"},{"number":1432,"price":4,"province":"浙江省","city":"舟山市","type":"办公用品","sub_type":"笔"},{"number":1343,"price":1,"province":"浙江省","city":"杭州市","type":"办公用品","sub_type":"纸张"},{"number":1354,"price":0.5,"province":"浙江省","city":"绍兴市","type":"办公用品","sub_type":"纸张"},{"number":1523,"price":0.8,"province":"浙江省","city":"宁波市","type":"办公用品","sub_type":"纸张"},{"number":1634,"price":0.7,"province":"浙江省","city":"舟山市","type":"办公用品","sub_type":"纸张"},{"number":1723,"price":240,"province":"四川省","city":"成都市","type":"家具","sub_type":"桌子"},{"number":1822,"price":230,"province":"四川省","city":"绵阳市","type":"家具","sub_type":"桌子"},{"number":1943,"price":200,"province":"四川省","city":"南充市","type":"家具","sub_type":"桌子"},{"number":2330,"price":210,"province":"四川省","city":"乐山市","type":"家具","sub_type":"桌子"},{"number":2451,"price":2100,"province":"四川省","city":"成都市","type":"家具","sub_type":"沙发"},{"number":2244,"price":2000,"province":"四川省","city":"绵阳市","type":"家具","sub_type":"沙发"},{"number":2333,"price":2050,"province":"四川省","city":"南充市","type":"家具","sub_type":"沙发"},{"number":2445,"price":1900,"province":"四川省","city":"乐山市","type":"家具","sub_type":"沙发"},{"number":2335,"price":8,"province":"四川省","city":"成都市","type":"办公用品","sub_type":"笔"},{"number":245,"price":5,"province":"四川省","city":"绵阳市","type":"办公用品","sub_type":"笔"},{"number":2457,"price":3,"province":"四川省","city":"南充市","type":"办公用品","sub_type":"笔"},{"number":2458,"price":5,"province":"四川省","city":"乐山市","type":"办公用品","sub_type":"笔"},{"number":4004,"price":0.8,"province":"四川省","city":"成都市","type":"办公用品","sub_type":"纸张"},{"number":3077,"price":0.5,"province":"四川省","city":"绵阳市","type":"办公用品","sub_type":"纸张"},{"number":3551,"price":0.5,"province":"四川省","city":"南充市","type":"办公用品","sub_type":"纸张"},{"number":352,"price":0.6,"province":"四川省","city":"乐山市","type":"办公用品","sub_type":"纸张"}],"V4":[{"number":26193,"type":"家具","sub_type":"桌子"},{"number":49709,"type":"家具"},{"number":23516,"type":"家具","sub_type":"沙发"},{"number":29159,"type":"办公用品"},{"number":12321,"type":"办公用品","sub_type":"笔"},{"number":16838,"type":"办公用品","sub_type":"纸张"},{"number":18375,"province":"浙江省","type":"家具","sub_type":"桌子"},{"number":14043,"province":"浙江省","type":"家具","sub_type":"沙发"},{"number":4826,"province":"浙江省","type":"办公用品","sub_type":"笔"},{"number":5854,"province":"浙江省","type":"办公用品","sub_type":"纸张"},{"number":7818,"province":"四川省","type":"家具","sub_type":"桌子"},{"number":9473,"province":"四川省","type":"家具","sub_type":"沙发"},{"number":7495,"province":"四川省","type":"办公用品","sub_type":"笔"},{"number":10984,"province":"四川省","type":"办公用品","sub_type":"纸张"},{"number":13132,"province":"浙江省","city":"杭州市","type":"家具"},{"number":2288,"province":"浙江省","city":"杭州市","type":"办公用品"},{"number":15420,"province":"浙江省","city":"杭州市"},{"number":2999,"province":"浙江省","city":"绍兴市","type":"家具"},{"number":2658,"province":"浙江省","city":"绍兴市","type":"办公用品"},{"number":5657,"province":"浙江省","city":"绍兴市"},{"number":11111,"province":"浙江省","city":"宁波市","type":"家具"},{"number":2668,"province":"浙江省","city":"宁波市","type":"办公用品"},{"number":13779,"province":"浙江省","city":"宁波市"},{"number":5176,"province":"浙江省","city":"舟山市","type":"家具"},{"number":3066,"province":"浙江省","city":"舟山市","type":"办公用品"},{"number":8242,"province":"浙江省","city":"舟山市"},{"number":4174,"province":"四川省","city":"成都市","type":"家具"},{"number":6339,"province":"四川省","city":"成都市","type":"办公用品"},{"number":10513,"province":"四川省","city":"成都市"},{"number":4066,"province":"四川省","city":"绵阳市","type":"家具"},{"number":3322,"province":"四川省","city":"绵阳市","type":"办公用品"},{"number":7388,"province":"四川省","city":"绵阳市"},{"number":4276,"province":"四川省","city":"南充市","type":"家具"},{"number":6008,"province":"四川省","city":"南充市","type":"办公用品"},{"number":10284,"province":"四川省","city":"南充市"},{"number":4775,"province":"四川省","city":"乐山市","type":"家具"},{"number":2810,"province":"四川省","city":"乐山市","type":"办公用品"},{"number":7585,"province":"四川省","city":"乐山市"},{"number":32418,"province":"浙江省","type":"家具"},{"number":10680,"province":"浙江省","type":"办公用品"},{"number":43098,"province":"浙江省"},{"number":17291,"province":"四川省","type":"家具"},{"number":18479,"province":"四川省","type":"办公用品"},{"number":35770,"province":"四川省"},{"number":78868},{"price":2020,"type":"家具","sub_type":"桌子"},{"price":17920,"type":"家具"},{"price":15900,"type":"家具","sub_type":"沙发"},{"price":48.4,"type":"办公用品"},{"price":43,"type":"办公用品","sub_type":"笔"},{"price":5.4,"type":"办公用品","sub_type":"纸张"},{"price":1140,"province":"浙江省","type":"家具","sub_type":"桌子"},{"price":7850,"province":"浙江省","type":"家具","sub_type":"沙发"},{"price":22,"province":"浙江省","type":"办公用品","sub_type":"笔"},{"price":3,"province":"浙江省","type":"办公用品","sub_type":"纸张"},{"price":880,"province":"四川省","type":"家具","sub_type":"桌子"},{"price":8050,"province":"四川省","type":"家具","sub_type":"沙发"},{"price":21,"province":"四川省","type":"办公用品","sub_type":"笔"},{"price":2.4,"province":"四川省","type":"办公用品","sub_type":"纸张"},{"price":2400,"province":"浙江省","city":"杭州市","type":"家具"},{"price":6,"province":"浙江省","city":"杭州市","type":"办公用品"},{"price":2406,"province":"浙江省","city":"杭州市"},{"price":2220,"province":"浙江省","city":"绍兴市","type":"家具"},{"price":6.5,"province":"浙江省","city":"绍兴市","type":"办公用品"},{"price":2226.5,"province":"浙江省","city":"绍兴市"},{"price":2060,"province":"浙江省","city":"宁波市","type":"家具"},{"price":7.8,"province":"浙江省","city":"宁波市","type":"办公用品"},{"price":2067.8,"province":"浙江省","city":"宁波市"},{"price":2310,"province":"浙江省","city":"舟山市","type":"家具"},{"price":4.7,"province":"浙江省","city":"舟山市","type":"办公用品"},{"price":2314.7,"province":"浙江省","city":"舟山市"},{"price":2340,"province":"四川省","city":"成都市","type":"家具"},{"price":8.8,"province":"四川省","city":"成都市","type":"办公用品"},{"price":2348.8,"province":"四川省","city":"成都市"},{"price":2230,"province":"四川省","city":"绵阳市","type":"家具"},{"price":5.5,"province":"四川省","city":"绵阳市","type":"办公用品"},{"price":2235.5,"province":"四川省","city":"绵阳市"},{"price":2250,"province":"四川省","city":"南充市","type":"家具"},{"price":3.5,"province":"四川省","city":"南充市","type":"办公用品"},{"price":2253.5,"province":"四川省","city":"南充市"},{"price":2110,"province":"四川省","city":"乐山市","type":"家具"},{"price":5.6,"province":"四川省","city":"乐山市","type":"办公用品"},{"price":2115.6,"province":"四川省","city":"乐山市"},{"price":8990,"province":"浙江省","type":"家具"},{"price":25,"province":"浙江省","type":"办公用品"},{"price":9015,"province":"浙江省"},{"price":8930,"province":"四川省","type":"家具"},{"price":23.4,"province":"四川省","type":"办公用品"},{"price":8953.4,"province":"四川省"},{"price":17968.4}],"GX":"province","AV":"type"}')),te={data:ee.aT,totalData:ee.V4,meta:ee.$y,fields:ee.XU},re={rowSubTotalsDimensions:ee.GX,colSubTotalsDimensions:ee.AV},ne=function(e){var t=n.useState("pivot"),r=p()(t,2),i=r[0],a=r[1],c=n.useState(),u=p()(c,2),l=u[0],s=u[1],d=n.useState(),y=p()(d,2),b=y[0],v=y[1],f=n.useState({name:"default"}),m=p()(f,2),h=m[0],g=m[1],_=n.useState(!0),x=p()(_,2),C=x[0],A=x[1],j=n.useState(!1),T=p()(j,2),S=T[0],N=T[1],P=n.useRef(null),E=e.sheetConfig,k=function(){var e=E.rows,t=E.columns,r=E.values,n=E.valueLocation,a={rows:e,columns:t,values:r,valueInCols:n&&"column"===n},p={columns:(0,w.concat)([],e||[],t||[],r||[])};return"pivot"===i?o()(o()({},te),{},{fields:a}):o()(o()({},te),{},{fields:p})};return(0,n.useEffect)((function(){null!=E&&E.sheetType&&a(null==E?void 0:E.sheetType)}),[null==E?void 0:E.sheetType]),(0,n.useEffect)((function(){var e=k();s(e)}),[null==E?void 0:E.rows,null==E?void 0:E.columns,null==E?void 0:E.values]),(0,n.useEffect)((function(){if((0,w.isEmpty)(null==E?void 0:E.dataSource)||"exampleData"===(null==E?void 0:E.dataSource)||(0,w.isEmpty)(null==E?void 0:E.importData)){var e=k();s(e)}else if(!(0,w.isEmpty)(null==E?void 0:E.importData)){var t=(r=E.importData,n=E.valueLocation,a=r.fields,p=o()(o()({},a),{},{valueInCols:n&&"column"===n}),c=a.rows,u=a.columns,l=a.values,d={columns:(0,w.concat)([],c||[],u||[],l||[])},"pivot"===i?o()(o()({},r),{},{fields:p}):o()(o()({},r),{},{fields:d}));s(t)}var r,n,a,p,c,u,l,d}),[null==E?void 0:E.importData,null==E?void 0:E.dataSource,null==E?void 0:E.valueLocation,i]),(0,n.useEffect)((function(){var e=E.hierarchyType,t=E.widthChange,r=E.sheetWidth,n=E.sheetHeight,i=E.frozenRowHeader,a=E.rowSubTotals,p=E.rowGrandTotals,c=E.columnSubTotals,u=E.columnGrandTotals,l=(0,w.merge)(b,{hierarchyType:e,style:{layoutWidthType:t},width:r,height:n,frozenRowHeader:i,pagination:S&&{pageSize:10,current:1},totals:{row:{showGrandTotals:p,showSubTotals:a,reverseLayout:!0,reverseSubLayout:!0,subTotalsDimensions:re.rowSubTotalsDimensions},col:{showGrandTotals:u,showSubTotals:c,reverseLayout:!0,reverseSubLayout:!0,subTotalsDimensions:re.colSubTotalsDimensions}}});v(o()({},l))}),[null==E?void 0:E.hierarchyType,null==E?void 0:E.widthChange,null==E?void 0:E.sheetWidth,null==E?void 0:E.sheetHeight,null==E?void 0:E.frozenRowHeader,S,null==E?void 0:E.rowSubTotals,null==E?void 0:E.rowGrandTotals,null==E?void 0:E.columnSubTotals,null==E?void 0:E.columnGrandTotals]),(0,n.useEffect)((function(){var e=E.theme;g({name:e})}),[null==E?void 0:E.theme]),(0,n.useEffect)((function(){if(null!=E&&E.themeColor){var e=E.theme,t=E.themeColor,r=(0,K.getPalette)(e||"default"),n=(0,K.generatePalette)(o()(o()({},r),{},{brandColor:(null==t?void 0:t.hex)||"#E0E9FD"}));g({name:e,palette:n})}}),[null==E?void 0:E.themeColor]),(0,n.useEffect)((function(){var e,t;E.adaptive?A({width:!0,height:!0,getContainer:function(){return P.current}}):(A(!1),v({width:null!==(e=null==E?void 0:E.sheetWidth)&&void 0!==e?e:600,height:null!==(t=null==E?void 0:E.sheetHeight)&&void 0!==t?t:480}))}),[null==E?void 0:E.adaptive]),(0,n.useEffect)((function(){var e=E.showPagination;N(e)}),[null==E?void 0:E.showPagination]),(0,n.useEffect)((function(){var e=E.showSeriesNumber,t=E.showPagination;v({showSeriesNumber:e,pagination:t&&{pageSize:10,current:1}})}),[null==E?void 0:E.showSeriesNumber]),(0,I.jsx)("div",{className:"sheet-container",ref:P,children:(0,I.jsx)(q.SheetComponent,{dataCfg:l,options:b,themeCfg:h,sheetType:i,adaptive:C,showPagination:S})})},ie=function(){var e=n.useState(o()(o()({},te.fields),{adaptive:!0})),t=p()(e,2),r=t[0],i=t[1];return(0,I.jsx)("div",{className:"playground-layout",children:(0,I.jsxs)(c.default,{children:[(0,I.jsx)(c.default.Sider,{width:280,children:(0,I.jsx)(Y,{attributes:r,onConfigChange:function(e){i(o()(o()({},r),e))}})}),(0,I.jsx)(ne,{sheetConfig:r})]})})},oe=r(55807),ae=r(74350),pe=function(){return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(oe.h,{}),(0,I.jsx)(ie,{}),(0,I.jsx)(ae.$,{})]})}},25098:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},26037:function(e,t,r){var n=r(48374),i=r(21771),o=r(73408);e.exports=function(e){var t=i();return function(){var r,i=n(e);if(t){var a=n(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return o(this,r)}},e.exports.__esModule=!0,e.exports.default=e.exports},48374:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},31996:function(e,t,r){var n=r(21314);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},21771:function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},73408:function(e,t,r){var n=r(52677).default,i=r(25098);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},21314:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}}]);
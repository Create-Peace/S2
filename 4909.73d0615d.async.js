"use strict";(self.webpackChunk_antv_s2_site=self.webpackChunk_antv_s2_site||[]).push([[4909],{64909:function(e,t,r){r.r(t),r.d(t,{default:function(){return le}});var n=r(67294),a=r(24325),i=r.n(a),o=r(28633),u=r.n(o),l=r(80612),p={relations:[{fromAttributeId:"dataSource",toAttributeId:"rows",action:"disable",value:"localImport",operator:"EQUAL"},{fromAttributeId:"dataSource",toAttributeId:"columns",action:"disable",value:"localImport",operator:"EQUAL"},{fromAttributeId:"dataSource",toAttributeId:"values",action:"disable",value:"localImport",operator:"EQUAL"},{fromAttributeId:"values",toAttributeId:"valueLocation",action:"disable",value:[],operator:"EMPTY"},{fromAttributeId:"sheetType",toAttributeId:"valueLocation",action:"disable",value:"table",operator:"EQUAL"},{fromAttributeId:"sheetType",toAttributeId:"hierarchyType",action:"disable",value:"table",operator:"EQUAL"},{fromAttributeId:"sheetType",toAttributeId:"frozenRowHeader",action:"disable",value:"table",operator:"EQUAL"},{fromAttributeId:"sheetType",toAttributeId:"rowSubTotals",action:"disable",value:"table",operator:"EQUAL"},{fromAttributeId:"sheetType",toAttributeId:"rowGrandTotals",action:"disable",value:"table",operator:"EQUAL"},{fromAttributeId:"sheetType",toAttributeId:"columnSubTotals",action:"disable",value:"table",operator:"EQUAL"},{fromAttributeId:"sheetType",toAttributeId:"columnGrandTotals",action:"disable",value:"table",operator:"EQUAL"},{fromAttributeId:"widthChange",toAttributeId:"adaptive",action:"disable",value:"compact",operator:"EQUAL"},{fromAttributeId:"widthChange",toAttributeId:"sheetWidth",action:"disable",value:"compact",operator:"EQUAL"},{fromAttributeId:"adaptive",toAttributeId:"sheetWidth",action:"disable",value:!0,operator:"EQUAL"},{fromAttributeId:"adaptive",toAttributeId:"sheetHeight",action:"disable",value:!0,operator:"EQUAL"}],config:{type:"tab",children:[{type:"tab-pane",displayName:"数据",children:[{type:"radio",displayName:"数据源",attributeId:"dataSource",defaultValue:"exampleData",options:[{label:"样例数据",value:"exampleData"},{label:"本地导入",value:"localImport"}]},{type:"select",displayName:"行头",attributeId:"rows",placeholder:"请选择行头数据",options:[{label:"省份",value:"province"},{label:"城市",value:"city"}]},{type:"select",displayName:"列头",attributeId:"columns",placeholder:"请选择列头数据",options:[{label:"类别",value:"type"},{label:"子类别",value:"sub_type"}]},{type:"select",displayName:"数值",attributeId:"values",placeholder:"请选择数值数据",options:[{label:"数量",value:"number"},{label:"价格",value:"price"}]},{type:"radio",displayName:"数值置于",attributeId:"valueLocation",defaultValue:"row",options:[{label:"行头",value:"row"},{label:"列头",value:"column"}]},{type:"radio",displayName:"视图",attributeId:"sheetType",defaultValue:"pivot",options:[{label:"透视",value:"pivot"},{label:"明细",value:"table"}]}]},{type:"tab-pane",displayName:"样式",children:[{type:"collapse",children:[{type:"collapse-panel",displayName:"主题风格",children:[{type:"radio",displayName:"类型",attributeId:"hierarchyType",defaultValue:"grid",options:[{label:"平铺",value:"grid"},{label:"树状",value:"tree"}]},{type:"radio",displayName:"主题",attributeId:"theme",defaultValue:"default",options:[{label:"默认",value:"default"},{label:"简约灰",value:"gray"},{label:"多彩蓝",value:"colorful"}]},{type:"color-picker",displayName:"主题色",attributeId:"themeColor",defaultColor:"#E0E9FD"}]},{type:"collapse-panel",displayName:"显示模式",children:[{type:"radio",displayName:"宽度调整",attributeId:"widthChange",defaultValue:"colAdaptive",options:[{label:"列等宽",value:"colAdaptive"},{label:"列紧凑",value:"compact"}]},{type:"input-number",displayName:"表格宽度",attributeId:"sheetWidth",defaultValue:600,step:1,min:0},{type:"input-number",displayName:"表格高度",attributeId:"sheetHeight",defaultValue:480,step:1,min:0},{type:"switcher",displayName:"冻结行头",attributeId:"frozenRowHeader",defaultChecked:!0},{type:"switcher",displayName:"宽高自适应",attributeId:"adaptive",defaultChecked:!0}]},{type:"collapse-panel",displayName:"行序号和分页",children:[{type:"switcher",displayName:"显示行序号",attributeId:"showSeriesNumber"},{type:"switcher",displayName:"显示分页",attributeId:"showPagination"}]},{type:"collapse-panel",displayName:"行小计/总计",children:[{type:"switcher",displayName:"行小计",attributeId:"rowSubTotals"},{type:"switcher",displayName:"行总计",attributeId:"rowGrandTotals"}]},{type:"collapse-panel",displayName:"列小计/总计",children:[{type:"switcher",displayName:"列小计",attributeId:"columnSubTotals"},{type:"switcher",displayName:"列总计",attributeId:"columnGrandTotals"}]}]}]}]}},c=r(93949),s=r.n(c),d=r(6270),y=r.n(d),b=r(28810),v=r.n(b),m=r(77701),h=r.n(m),f=r(28249),g=r.n(f),C=r(29861),w=r.n(C),I=r(61888),_=r(18035),A=r(85893),T=function(e){h()(r,e);var t=g()(r);function r(){var e;s()(this,r);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o)),w()(v()(e),"renderTabPane",(function(t){return(0,I.map)(t,(function(t,r){var a=t.displayName,o=t.children;return(0,A.jsx)(_.Z.TabPane,{tab:a,children:(0,I.map)(o,(function(t,r){return(0,n.createElement)(Y,i()(i()({},e.props),{},{key:"".concat(t.displayName,"-").concat(r),config:t}))}))},"".concat(a,"-").concat(r))}))})),e}return y()(r,[{key:"render",value:function(){var e=this.props.config;return(0,A.jsx)(_.Z,{className:"flex-tabs",children:this.renderTabPane(e.children)})}}]),r}(n.PureComponent),x=function(e){h()(r,e);var t=g()(r);function r(){return s()(this,r),t.apply(this,arguments)}return y()(r,[{key:"render",value:function(){return this.props.children}}]),r}(n.PureComponent),S=r(23084),N=function(e){h()(r,e);var t=g()(r);function r(){var e;s()(this,r);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o)),w()(v()(e),"renderPanel",(function(t){return(0,I.map)(t,(function(t,r){var a=t.displayName,o=t.children;return(0,A.jsx)(S.Z.Panel,{header:a,children:(0,I.map)(o,(function(t,r){return(0,n.createElement)(Y,i()(i()({},e.props),{},{key:"".concat(t.displayName,"-").concat(r),config:t}))}))},"".concat(a,"-").concat(r))}))})),e}return y()(r,[{key:"render",value:function(){var e=this.props.config;return(0,A.jsx)("div",{className:"playground-collapse",children:(0,A.jsx)(S.Z,{expandIconPosition:"right",bordered:!1,ghost:!0,children:this.renderPanel(e.children)})})}}]),r}(n.PureComponent),j=function(e){h()(r,e);var t=g()(r);function r(){return s()(this,r),t.apply(this,arguments)}return y()(r,[{key:"render",value:function(){return this.props.children}}]),r}(n.PureComponent),E=r(75488),k=function(e){h()(r,e);var t=g()(r);function r(){return s()(this,r),t.apply(this,arguments)}return y()(r,[{key:"render",value:function(){var e=this.props.config.displayName;return(0,A.jsxs)("div",{className:"attr-component",children:[e,this.renderContent()]})}}]),r}(n.PureComponent),D=E.Z.Option,P=function(e){h()(r,e);var t=g()(r);function r(){return s()(this,r),t.apply(this,arguments)}return y()(r,[{key:"renderContent",value:function(){var e=this.props,t=e.config,r=e.onChange,n=e.disable,a=t.attributeId,i=t.options,o=t.placeholder,u=(0,I.map)(i,(function(e){return e.value}));return(0,A.jsx)(E.Z,{mode:"multiple",className:"playground-select",placeholder:o,size:"small",allowClear:!0,showArrow:!0,defaultValue:u,disabled:n,onChange:function(e){r(w()({},a,e))},children:(0,I.map)(i,(function(e){return(0,A.jsx)(D,{value:e.value,children:e.label},e.value)}))})}}]),r}(k),L=r(34704),U=r(82181),Z=r(42842),V=r(29895),Q=r(11220),G=U.Z.Dragger,O=function(e){h()(r,e);var t=g()(r);function r(){var e;s()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),w()(v()(e),"importData",void 0),w()(v()(e),"handleConfirm",(function(){var t=e.props.changeDataSource;e.importData?(t(e.importData,!1),Z.ZP.success("本地数据导入成功！")):Z.ZP.error("导入文件有误，请重新导入！")})),w()(v()(e),"handleCancel",(function(){(0,e.props.changeDataSource)(void 0,!1)})),w()(v()(e),"verifyImportData",(function(e){return!!(0,I.isObject)(e)&&((0,I.has)(e,"data")&&(0,I.has)(e,"fields"))})),w()(v()(e),"uploadConfig",(function(t){if(window.FileReader){var r=new FileReader;r.onload=function(){if(r.result)try{var t=JSON.parse(r.result);e.verifyImportData(t)?e.importData=t:Z.ZP.error("导入数据格式有误，请重新导入！")}catch(t){e.importData=void 0,Z.ZP.error("导入数据格式有误，请重新导入！")}},r.readAsText(t)}else Z.ZP.error("您当前浏览器不支持 FileReader，建议使用谷歌浏览器！");return!1})),w()(v()(e),"onRemove",(function(t){e.importData=void 0})),e}return y()(r,[{key:"render",value:function(){var e=this.props.isModalOpen;return(0,A.jsxs)(V.Z,{open:e,title:"本地数据导入",onOk:this.handleConfirm,onCancel:this.handleCancel,children:[(0,A.jsx)("p",{children:"目前仅支持的文件格式为 JSON。"}),(0,A.jsxs)("p",{children:["JSON 数据必须包含原始数据"," ",(0,A.jsx)("a",{href:"https://s2.antv.antgroup.com/api/general/s2dataconfig#data",target:"_blank",rel:"noopener noreferrer",children:"data"}),"，维度指标"," ",(0,A.jsx)("a",{href:"https://s2.antv.antgroup.com/api/general/s2dataconfig#fields",target:"_blank",rel:"noopener noreferrer",children:"fields"}),"；可选参数有总计/小计数据"," ",(0,A.jsx)("a",{href:"https://s2.antv.antgroup.com/api/general/s2dataconfig#data",target:"_black",rel:"noopener noreferrer",children:"totalData"}),"、字段元数据"," ",(0,A.jsx)("a",{href:"https://s2.antv.antgroup.com/api/general/s2dataconfig#meta",target:"_black",rel:"noopener noreferrer",children:"meta"}),"、排序参数配置"," ",(0,A.jsx)("a",{href:"https://s2.antv.antgroup.com/api/general/s2dataconfig#sortparam",target:"_black",rel:"noopener noreferrer",children:"sortParams"}),"。参考数据格式见：",(0,A.jsx)("a",{href:"https://gw.alipayobjects.com/os/bmw-prod/2a5dbbc8-d0a7-4d02-b7c9-34f6ca63cff6.json",target:"_black",rel:"noopener noreferrer",children:"标准透视表数据"}),"。"]}),(0,A.jsxs)(G,{accept:".json",maxCount:1,beforeUpload:this.uploadConfig,onRemove:this.onRemove,children:[(0,A.jsx)("p",{className:"ant-upload-drag-icon",children:(0,A.jsx)(Q.Z,{})}),(0,A.jsx)("p",{children:"点击或将数据文件拖拽到这里导入。"})]})]})}}]),r}(n.PureComponent),R=function(e){h()(r,e);var t=g()(r);function r(){var e;s()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),w()(v()(e),"state",{isModalOpen:!1}),w()(v()(e),"openDraggerUploadModal",(function(t){"localImport"===t&&e.setState({isModalOpen:!0})})),w()(v()(e),"changeDataSource",(function(t,r){(0,e.props.onChange)({importData:t}),e.setState({isModalOpen:r})})),e}return y()(r,[{key:"renderContent",value:function(){var e=this,t=this.props,r=t.config,n=t.onChange,a=t.disable,i=this.state.isModalOpen,o=r.attributeId,u=r.options,l=r.defaultValue;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(L.ZP.Group,{defaultValue:l,size:"small",disabled:a,onChange:function(t){n(w()({},o,t.target.value)),e.openDraggerUploadModal(t.target.value)},children:(0,I.map)(u,(function(e){return(0,A.jsx)(L.ZP.Button,{value:e.value,children:e.label},e.value)}))}),(0,A.jsx)(O,{isModalOpen:i,changeDataSource:this.changeDataSource})]})}}]),r}(k),z=r(43577),M=function(e){h()(r,e);var t=g()(r);function r(){return s()(this,r),t.apply(this,arguments)}return y()(r,[{key:"renderContent",value:function(){var e=this.props,t=e.config,r=e.onChange,n=e.disable,a=t.attributeId,i=t.defaultChecked;return(0,A.jsx)(z.Z,{size:"small",disabled:n,defaultChecked:i,onChange:function(e){return r(w()({},a,e))}})}}]),r}(k),H=r(17237),W=r(98742),F=function(e){h()(r,e);var t=g()(r);function r(){return s()(this,r),t.apply(this,arguments)}return y()(r,[{key:"renderContent",value:function(){var e,t=this.props,r=t.config,n=t.onChange,a=t.attributes,i=r.defaultColor,o=r.attributeId,u=(null==a||null===(e=a.themeColor)||void 0===e?void 0:e.hex)||i;return(0,A.jsx)(W.Z,{overlay:function(){return(0,A.jsx)(H.ChromePicker,{color:u,onChangeComplete:function(e){return n(w()({},o,e))}})},placement:"bottom",children:(0,A.jsx)("div",{style:{backgroundColor:u},className:"color-block"})})}}]),r}(k),X=r(43144),J=function(e){h()(r,e);var t=g()(r);function r(){return s()(this,r),t.apply(this,arguments)}return y()(r,[{key:"renderContent",value:function(){var e=this.props,t=e.config,r=e.onChange,n=e.disable,a=t.attributeId,i=t.defaultValue,o=t.step,u=t.min;return(0,A.jsx)("div",{children:(0,A.jsx)(X.Z,{disabled:n,defaultValue:i,step:o||1,onChange:function(e){return r(w()({},a,e))},size:"small",className:"input-number",min:u})})}}]),r}(k),$={Tab:T,TabPane:x,Collapse:N,CollapsePanel:j,Select:P,Radio:R,Switcher:M,ColorPicker:F,InputNumber:J};var Y=function(e){h()(r,e);var t=g()(r);function r(){var e;s()(this,r);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o)),w()(v()(e),"renderChildren",(function(t){return(0,I.map)(t,(function(t,a){return(0,n.createElement)(r,i()(i()({},e.props),{},{key:"".concat(t.displayName,"-").concat(a),config:t}))}))})),w()(v()(e),"getStatus",(function(e,t,r){var n=(0,I.filter)(t,(function(t){return t.toAttributeId===(null==e?void 0:e.attributeId)})),a=[];return(0,I.forEach)(n,(function(e){var t=e.fromAttributeId,n=e.value,i=e.operator,o=e.action,u=(0,I.get)(r,t);("EQUAL"===i&&u===n||"EMPTY"===i&&(0,I.isEmpty)(u))&&a.push(o)})),a})),e}return y()(r,[{key:"render",value:function(){var e,t,r=this.props,n=r.config,a=r.relations,o=r.attributes,u=this.getStatus(n,a,o),l=(0,I.includes)(u,"disable"),p=$[(e=n.type,t=(0,I.camelCase)(e),t?"".concat(t[0].toUpperCase()).concat(t.substring(1)):t)];return(0,A.jsx)(p,i()(i()({},this.props),{},{disable:l,children:this.renderChildren(n.children)}))}}]),r}(n.PureComponent),B=function(e){var t=e.attributes,r=e.onConfigChange,a=(0,n.useMemo)((function(){return p}),[]);return(0,A.jsx)(Y,{attributes:t,config:a.config,relations:a.relations,onChange:function(e){r(e)}})},q=r(45696),K=r(52266),ee=r(63871),te=JSON.parse('{"XU":{"rows":["province","city"],"columns":["type","sub_type"],"values":["number","price"],"valueInCols":true},"$y":[{"field":"number","name":"数量","description":"数量说明。。"},{"field":"price","name":"价格","description":"价格说明。。"},{"field":"province","name":"省份","description":"省份说明。。"},{"field":"city","name":"城市","description":"城市说明。。"},{"field":"type","name":"类别","description":"类别说明。。"},{"field":"sub_type","name":"子类别","description":"子类别说明。。"}],"aT":[{"number":7789,"price":300,"province":"浙江省","city":"杭州市","type":"家具","sub_type":"桌子"},{"number":2367,"price":270,"province":"浙江省","city":"绍兴市","type":"家具","sub_type":"桌子"},{"number":3877,"price":260,"province":"浙江省","city":"宁波市","type":"家具","sub_type":"桌子"},{"number":4342,"price":310,"province":"浙江省","city":"舟山市","type":"家具","sub_type":"桌子"},{"number":5343,"price":2100,"province":"浙江省","city":"杭州市","type":"家具","sub_type":"沙发"},{"number":632,"price":1950,"province":"浙江省","city":"绍兴市","type":"家具","sub_type":"沙发"},{"number":7234,"price":1800,"province":"浙江省","city":"宁波市","type":"家具","sub_type":"沙发"},{"number":834,"price":2000,"province":"浙江省","city":"舟山市","type":"家具","sub_type":"沙发"},{"number":945,"price":5,"province":"浙江省","city":"杭州市","type":"办公用品","sub_type":"笔"},{"number":1304,"price":6,"province":"浙江省","city":"绍兴市","type":"办公用品","sub_type":"笔"},{"number":1145,"price":7,"province":"浙江省","city":"宁波市","type":"办公用品","sub_type":"笔"},{"number":1432,"price":4,"province":"浙江省","city":"舟山市","type":"办公用品","sub_type":"笔"},{"number":1343,"price":1,"province":"浙江省","city":"杭州市","type":"办公用品","sub_type":"纸张"},{"number":1354,"price":0.5,"province":"浙江省","city":"绍兴市","type":"办公用品","sub_type":"纸张"},{"number":1523,"price":0.8,"province":"浙江省","city":"宁波市","type":"办公用品","sub_type":"纸张"},{"number":1634,"price":0.7,"province":"浙江省","city":"舟山市","type":"办公用品","sub_type":"纸张"},{"number":1723,"price":240,"province":"四川省","city":"成都市","type":"家具","sub_type":"桌子"},{"number":1822,"price":230,"province":"四川省","city":"绵阳市","type":"家具","sub_type":"桌子"},{"number":1943,"price":200,"province":"四川省","city":"南充市","type":"家具","sub_type":"桌子"},{"number":2330,"price":210,"province":"四川省","city":"乐山市","type":"家具","sub_type":"桌子"},{"number":2451,"price":2100,"province":"四川省","city":"成都市","type":"家具","sub_type":"沙发"},{"number":2244,"price":2000,"province":"四川省","city":"绵阳市","type":"家具","sub_type":"沙发"},{"number":2333,"price":2050,"province":"四川省","city":"南充市","type":"家具","sub_type":"沙发"},{"number":2445,"price":1900,"province":"四川省","city":"乐山市","type":"家具","sub_type":"沙发"},{"number":2335,"price":8,"province":"四川省","city":"成都市","type":"办公用品","sub_type":"笔"},{"number":245,"price":5,"province":"四川省","city":"绵阳市","type":"办公用品","sub_type":"笔"},{"number":2457,"price":3,"province":"四川省","city":"南充市","type":"办公用品","sub_type":"笔"},{"number":2458,"price":5,"province":"四川省","city":"乐山市","type":"办公用品","sub_type":"笔"},{"number":4004,"price":0.8,"province":"四川省","city":"成都市","type":"办公用品","sub_type":"纸张"},{"number":3077,"price":0.5,"province":"四川省","city":"绵阳市","type":"办公用品","sub_type":"纸张"},{"number":3551,"price":0.5,"province":"四川省","city":"南充市","type":"办公用品","sub_type":"纸张"},{"number":352,"price":0.6,"province":"四川省","city":"乐山市","type":"办公用品","sub_type":"纸张"}],"V4":[{"number":26193,"type":"家具","sub_type":"桌子","price":2020},{"number":49709,"type":"家具","price":17920},{"number":23516,"type":"家具","sub_type":"沙发","price":15900},{"number":29159,"type":"办公用品","price":48.4},{"number":12321,"type":"办公用品","sub_type":"笔","price":43},{"number":16838,"type":"办公用品","sub_type":"纸张","price":5.4},{"number":18375,"province":"浙江省","type":"家具","sub_type":"桌子","price":1140},{"number":14043,"province":"浙江省","type":"家具","sub_type":"沙发","price":7850},{"number":4826,"province":"浙江省","type":"办公用品","sub_type":"笔","price":22},{"number":5854,"province":"浙江省","type":"办公用品","sub_type":"纸张","price":3},{"number":7818,"province":"四川省","type":"家具","sub_type":"桌子","price":880},{"number":9473,"province":"四川省","type":"家具","sub_type":"沙发","price":8050},{"number":7495,"province":"四川省","type":"办公用品","sub_type":"笔","price":21},{"number":10984,"province":"四川省","type":"办公用品","sub_type":"纸张","price":2.4},{"number":13132,"province":"浙江省","city":"杭州市","type":"家具","price":2400},{"number":2288,"province":"浙江省","city":"杭州市","type":"办公用品","price":6},{"number":15420,"province":"浙江省","city":"杭州市","price":2406},{"number":2999,"province":"浙江省","city":"绍兴市","type":"家具","price":2220},{"number":2658,"province":"浙江省","city":"绍兴市","type":"办公用品","price":6.5},{"number":5657,"province":"浙江省","city":"绍兴市","price":2226.5},{"number":11111,"province":"浙江省","city":"宁波市","type":"家具","price":2060},{"number":2668,"province":"浙江省","city":"宁波市","type":"办公用品","price":7.8},{"number":13779,"province":"浙江省","city":"宁波市","price":2067.8},{"number":5176,"province":"浙江省","city":"舟山市","type":"家具","price":2310},{"number":3066,"province":"浙江省","city":"舟山市","type":"办公用品","price":4.7},{"number":8242,"province":"浙江省","city":"舟山市","price":2314.7},{"number":4174,"province":"四川省","city":"成都市","type":"家具","price":2340},{"number":6339,"province":"四川省","city":"成都市","type":"办公用品","price":8.8},{"number":10513,"province":"四川省","city":"成都市","price":2348.8},{"number":4066,"province":"四川省","city":"绵阳市","type":"家具","price":2230},{"number":3322,"province":"四川省","city":"绵阳市","type":"办公用品","price":5.5},{"number":7388,"province":"四川省","city":"绵阳市","price":2235.5},{"number":4276,"province":"四川省","city":"南充市","type":"家具","price":2250},{"number":6008,"province":"四川省","city":"南充市","type":"办公用品","price":3.5},{"number":10284,"province":"四川省","city":"南充市","price":2253.5},{"number":4775,"province":"四川省","city":"乐山市","type":"家具","price":2110},{"number":2810,"province":"四川省","city":"乐山市","type":"办公用品","price":5.6},{"number":7585,"province":"四川省","city":"乐山市","price":2115.6},{"number":32418,"province":"浙江省","type":"家具","price":8990},{"number":10680,"province":"浙江省","type":"办公用品","price":25},{"number":43098,"province":"浙江省","price":9015},{"number":17291,"province":"四川省","type":"家具","price":8930},{"number":18479,"province":"四川省","type":"办公用品","price":23.4},{"number":35770,"province":"四川省","price":8953.4},{"number":78868,"price":17968.4}],"GX":"province","AV":"type"}'),re={data:te.aT,totalData:te.V4,meta:te.$y,fields:te.XU},ne={rowSubTotalsDimensions:te.GX,colSubTotalsDimensions:te.AV},ae=function(e){var t=n.useState("pivot"),r=u()(t,2),a=r[0],o=r[1],l=n.useState(),p=u()(l,2),c=p[0],s=p[1],d=n.useState(),y=u()(d,2),b=y[0],v=y[1],m=n.useState({name:"default"}),h=u()(m,2),f=h[0],g=h[1],C=n.useState(!0),w=u()(C,2),_=w[0],T=w[1],x=n.useState(!1),S=u()(x,2),N=S[0],j=S[1],E=n.useRef(null),k=e.sheetConfig,D=function(){var e=k.rows,t=k.columns,r=k.values,n=k.valueLocation,o={rows:e,columns:t,values:r,valueInCols:n&&"column"===n},u={columns:(0,I.concat)([],e||[],t||[],r||[])};return"pivot"===a?i()(i()({},re),{},{fields:o}):i()(i()({},re),{},{fields:u})};return(0,n.useEffect)((function(){null!=k&&k.sheetType&&o(null==k?void 0:k.sheetType)}),[null==k?void 0:k.sheetType]),(0,n.useEffect)((function(){var e=D();s(e)}),[null==k?void 0:k.rows,null==k?void 0:k.columns,null==k?void 0:k.values]),(0,n.useEffect)((function(){if((0,I.isEmpty)(null==k?void 0:k.dataSource)||"exampleData"===(null==k?void 0:k.dataSource)||(0,I.isEmpty)(null==k?void 0:k.importData)){var e=D();s(e)}else if(!(0,I.isEmpty)(null==k?void 0:k.importData)){var t=(r=k.importData,n=k.valueLocation,o=r.fields,u=i()(i()({},o),{},{valueInCols:n&&"column"===n}),l=o.rows,p=o.columns,c=o.values,d={columns:(0,I.concat)([],l||[],p||[],c||[])},"pivot"===a?i()(i()({},r),{},{fields:u}):i()(i()({},r),{},{fields:d}));s(t)}var r,n,o,u,l,p,c,d}),[null==k?void 0:k.importData,null==k?void 0:k.dataSource,null==k?void 0:k.valueLocation,a]),(0,n.useEffect)((function(){var e=k.hierarchyType,t=k.widthChange,r=k.sheetWidth,n=k.sheetHeight,a=k.frozenRowHeader,o=k.rowSubTotals,u=k.rowGrandTotals,l=k.columnSubTotals,p=k.columnGrandTotals,c=(0,I.merge)(b,{hierarchyType:e,style:{layoutWidthType:t},width:r,height:n,frozenRowHeader:a,pagination:N&&{pageSize:10,current:1},totals:{row:{showGrandTotals:u,showSubTotals:o,reverseLayout:!0,reverseSubLayout:!0,subTotalsDimensions:ne.rowSubTotalsDimensions},col:{showGrandTotals:p,showSubTotals:l,reverseLayout:!0,reverseSubLayout:!0,subTotalsDimensions:ne.colSubTotalsDimensions}}});v(i()({},c))}),[null==k?void 0:k.hierarchyType,null==k?void 0:k.widthChange,null==k?void 0:k.sheetWidth,null==k?void 0:k.sheetHeight,null==k?void 0:k.frozenRowHeader,N,null==k?void 0:k.rowSubTotals,null==k?void 0:k.rowGrandTotals,null==k?void 0:k.columnSubTotals,null==k?void 0:k.columnGrandTotals]),(0,n.useEffect)((function(){var e=k.theme;g({name:e})}),[null==k?void 0:k.theme]),(0,n.useEffect)((function(){if(null!=k&&k.themeColor){var e=k.theme,t=k.themeColor,r=(0,K.X)(e||"default"),n=(0,ee.Wk)(i()(i()({},r),{},{brandColor:(null==t?void 0:t.hex)||"#E0E9FD"}));g({name:e,palette:n})}}),[null==k?void 0:k.themeColor]),(0,n.useEffect)((function(){var e,t;k.adaptive?T({width:!0,height:!0,getContainer:function(){return E.current}}):(T(!1),v({width:null!==(e=null==k?void 0:k.sheetWidth)&&void 0!==e?e:600,height:null!==(t=null==k?void 0:k.sheetHeight)&&void 0!==t?t:480}))}),[null==k?void 0:k.adaptive]),(0,n.useEffect)((function(){var e=k.showPagination;j(e)}),[null==k?void 0:k.showPagination]),(0,n.useEffect)((function(){var e=k.showSeriesNumber,t=k.showPagination;v({showSeriesNumber:e,pagination:t&&{pageSize:10,current:1}})}),[null==k?void 0:k.showSeriesNumber]),(0,A.jsx)("div",{className:"sheet-container",ref:E,children:(0,A.jsx)(q.SheetComponent,{dataCfg:c,options:b,themeCfg:f,sheetType:a,adaptive:_,showPagination:N})})},ie=function(){var e=n.useState(i()(i()({},re.fields),{adaptive:!0})),t=u()(e,2),r=t[0],a=t[1];return(0,A.jsx)("div",{className:"playground-layout",children:(0,A.jsxs)(l.Z,{children:[(0,A.jsx)(l.Z.Sider,{width:280,children:(0,A.jsx)(B,{attributes:r,onConfigChange:function(e){a(i()(i()({},r),e))}})}),(0,A.jsx)(ae,{sheetConfig:r})]})})},oe=r(55483),ue=r(98335),le=function(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(oe.h,{}),(0,A.jsx)(ie,{}),(0,A.jsx)(ue.$,{})]})}}}]);